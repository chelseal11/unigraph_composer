<!DOCTYPE html>
<html>
  <head>
    <title>Unigraph Composing</title>
    <style>
      .hidden {
        display: none;
      }
      .static_height {
        height: 100px;
      }
    </style>
  </head>
  <body>
    <label for="graph-type">Choose two indecomposable components:</label>

    <div class="static_height">
      <div>
        <select id="graph-type-1" name="graph-type-1" onchange="showInputsOne()">
          <option value="C5">C₅</option>
          <option value="mK2">mK₂ for m ≥ 2</option>
          <option value="U2ml">U2(m, ℓ), m ≥ 1, ℓ ≥ 2</option>
          <option value="U3m">U3(m), m ≥ 1</option>
          <option value="SVG">Single-vertex graph</option>
          <option value="Spq">S(p, q), p ≥ 1, q ≥ 2 </option>
          <option value="S2">S2(p1, q1, . . . , pm, qm), m ≥ 2 and p1 > p2 > . . . > pm</option>
          <option value="S3">S3(p, q1, q2) p ≥ 1, q1 ≥ 2, q2 ≥ 1</option>
          <option value="S4">S4(p, q) p ≥ 1, q ≥ 1</option>
        </select>
      </div>

      <div id="input-p-1" class="hidden">
        <label for="p">Enter p:</label>
        <input type="number" id="p-1" name="p" min="1">
      </div>
  
      <div id="input-l-1" class="hidden">
        <label for="l">Enter 1:</label>
        <input type="number" id="l-1" name="l" min="1">
      </div>

      <div id="input-q-1" class="hidden">
        <label for="q">Enter q:</label>
        <input type="number" id="q-1" name="q" min="1">
      </div>
  
      <div id="input-q1-1" class="hidden">
        <label for="q1">Enter q1:</label>
        <input type="number" id="q1-1" name="q1" min="1">
      </div>

      <div id="input-q2-1" class="hidden">
        <label for="q2">Enter q2:</label>
        <input type="number" id="q2-1" name="q2" min="1">
      </div>
  
      <div id="input-m-1" class="hidden">
        <label for="m">Enter m:</label>
        <input type="number" id="m-1" name="m" min="2">
      </div>
  
      <div id="input-l-1" class="hidden">
        <label for="l">Enter l:</label>
        <input type="number" id="l-1" name="l" min="1">
      </div>
    </div>

    
    <div class="static_height">
      <select id="graph-type-2" name="graph-type-2" onchange="showInputsTwo()">
        <option value="C5">C₅</option>
        <option value="mK2">mK₂ for m ≥ 2</option>
        <option value="U2ml">U2(m, ℓ), m ≥ 1, ℓ ≥ 2</option>
        <option value="U3m">U3(m), m ≥ 1</option>
      </select>

      <div id="input-m-2" class="hidden">
        <label for="m">Enter m:</label>
        <input type="number" id="m-2" name="m" min="1">
      </div>

      <div id="input-l-2" class="hidden">
        <label for="l">Enter l:</label>
        <input type="number" id="l-2" name="l" min="1">
      </div>
    </div>

    <button onclick="computeComposition()">Compute Composition</button>

    <script>

      const M_1 = document.getElementById('input-m-1');
      const L_1 = document.getElementById('input-l-1');
      const P_1 = document.getElementById('input-p-1');
      const Q_1 = document.getElementById('input-q-1');
      const Q1_1 = document.getElementById('input-q1-1');
      const Q2_1 = document.getElementById('input-q2-1');
      const M_2 = document.getElementById('input-m-2');
      const L_2 = document.getElementById('input-l-2');
      M_1.classList.add('hidden');
      L_1.classList.add('hidden');
      P_1.classList.add('hidden');
      Q_1.classList.add('hidden');
      Q1_1.classList.add('hidden');
      Q2_1.classList.add('hidden');
      M_2.classList.add('hidden');
      L_2.classList.add('hidden');

      function showInputsOne() {
        const selection1 = document.getElementById('graph-type-1').value;
      
        if (selection1 === 'mK2') {
          M_1.classList.remove('hidden');
        } else if (selection1 === 'U2ml') {
          M_1.classList.remove('hidden');
          L_1.classList.remove('hidden');
        } else if (selection1 === 'U3m') {
          M_1.classList.remove('hidden');
        } else if (selection1 === 'Spq') {
          P_1.classList.remove('hidden');
          Q_1.classList.remove('hidden');
        } else if (selection1 === 'S2') {
          M_1.classList.remove('hidden');
          P_1.classList.remove('hidden');
          Q_1.classList.remove('hidden');
        } else if (selection1 === 'S3') {
          M_1.classList.remove('hidden');
          P_1.classList.remove('hidden');
          Q1_1.classList.remove('hidden');
          Q2_1.classList.remove('hidden');
        } else if (selection1 === 'S4') {
          P_1.classList.remove('hidden');
          Q_1.classList.remove('hidden');
        }
      }

      function showInputsTwo() {
        const selection2 = document.getElementById('graph-type-2').value;

        if (selection2 === 'mK2') {
          M_2.classList.remove('hidden');
        } else if (selection2 === 'U2ml') {
          M_2.classList.remove('hidden');
          L_2.classList.remove('hidden');
        } else if (selection2 === 'U3m') {
          M_2.classList.remove('hidden');
        }
      }

      function computeComposition() {
        const g1 = document.getElementById('graph-type-1').value;
        const g2 = document.getElementById('graph-type-2').value;
      
        alert(`Composing: ${g1} and ${g2}`);

        const g = getDegreeSequence(g1, 1);
        const h = getDegreeSequence(g2, 2);

        console.log(g);
        console.log(h);      
      }

      function getDegreeSequence(type, graph_num) {
        let M, L, P, Q, Q1, Q2;
        if (graph_num == 1) {
          M = Number(M_1.value);
          L = Number(L_1.value);
          P = Number(P_1.value);
          Q = Number(Q_1.value);
          Q1 = Number(Q1_1.value);
          Q2 = Number(Q2_1.value);
        } else {
          M = Number(M_2.value);
          L = Number(L_2.value);
        }

        console.log("M", M_2);
        switch (type) {

          case "C5": {
            return {2: 5}
          }
    
          case "mK2": {
            return {1: 2 * M}
          }
    
          case "U2ml": {
            return {
              [L]: 1,
              1: (2 * M) + L
            }
          }
    
          case "U3m": {
            return {
              [(2 * M) + 2]: 1,
              2: (2 * M) + 3
            }
          }

          case "SVG": {
            return {0: 1}
          }

          case "Spq": {
            return {
              [P + Q - 1]: Q,
              1: P * Q
            }
          }

          case "S2": {
            return {0: 1}
          }

          case "S3": {
            return {
              [P + Q1 + Q2]: Q1 + Q2,
              [Q1]: 1,
              1: (P * Q1) + ((P + 1) * Q)
            }
          }

          case "S4": {
            return {
              [2 * (P + Q + 1) + Q]: 1,
              [P + Q + 3]: Q + 2,
              2: (2 * Q * P) + (2 * P) + Q + 1
            }
          }

          default:
            alert("Unknown graph type: " + type);
        }
      }
    </script>
  </body>
</html>
