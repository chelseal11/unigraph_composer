<!DOCTYPE html>
<html>
  <head>
    <title>Unigraph Composing</title>
    <style>
      .hidden {
        display: none;
      }
      .static_height {
        height: 100px;
      }
    </style>
  </head>
  <body>
    <label for="graph-type">Choose two indecomposable components:</label>

    <div class="static_height">
      <div>
        <select id="graph-type-1" name="graph-type-1" onchange="showInputsOne()">
          <option value="C5">C₅</option>
          <option value="mK2">mK₂ for m ≥ 2</option>
          <option value="U2ml">U2(m, ℓ), m ≥ 1, ℓ ≥ 2</option>
          <option value="U3m">U3(m), m ≥ 1</option>
          <option value="SVG">Single-vertex graph</option>
          <option value="Spq">S(p, q), p ≥ 1, q ≥ 2 </option>
          <option value="S2">S2(p1, q1, . . . , pm, qm), m ≥ 2 and p1 > p2 > . . . > pm</option>
          <option value="S3">S3(p, q1, q2) p ≥ 1, q1 ≥ 2, q2 ≥ 1</option>
        </select>
      </div>

      <div id="input-p-1" class="hidden">
        <label for="p">Enter p:</label>
        <input type="number" id="p-2" name="p" min="1">
      </div>
  
      <div id="input-q-1" class="hidden">
        <label for="q">Enter 1:</label>
        <input type="number" id="q-1" name="q" min="1">
      </div>
  
      <div id="input-q1-1" class="hidden">
        <label for="q1">Enter q1:</label>
        <input type="number" id="q1-1" name="q1" min="1">
      </div>

      <div id="input-q2-1" class="hidden">
        <label for="q2">Enter q2:</label>
        <input type="number" id="q2-1" name="q2" min="1">
      </div>
  
      <div id="input-m-1" class="hidden">
        <label for="m">Enter m:</label>
        <input type="number" id="m-1" name="m" min="2">
      </div>
  
      <div id="input-l-1" class="hidden">
        <label for="l">Enter l:</label>
        <input type="number" id="l-1" name="l" min="1">
      </div>
    </div>

    
    <div class="static_height">
      <select id="graph-type-2" name="graph-type-2" onchange="showInputsTwo()">
        <option value="SVG">Single-vertex graph</option>
        <option value="Spq">S(p, q), p ≥ 1, q ≥ 2 </option>
        <option value="S2">S2(p1, q1, . . . , pm, qm), m ≥ 2 and p1 > p2 > . . . > pm</option>
        <option value="S3">S3(p, q1, q2) p ≥ 1, q1 ≥ 2, q2 ≥ 1</option>
      </select>

      <div id="input-p-2" class="hidden">
        <label for="p">Enter p:</label>
        <input type="number" id="p-2" name="p" min="1">
      </div>

      <div id="input-q-2" class="hidden">
        <label for="q">Enter 1:</label>
        <input type="number" id="q-2" name="q" min="1">
      </div>
  
      <div id="input-q1-2" class="hidden">
        <label for="q1">Enter q1:</label>
        <input type="number" id="q1-2" name="q1" min="1">
      </div>

      <div id="input-q2-2" class="hidden">
        <label for="q2">Enter q2:</label>
        <input type="number" id="q2-2" name="q2" min="1">
      </div>

      <div id="input-m-2" class="hidden">
        <label for="m">Enter m:</label>
        <input type="number" id="m-2" name="m" min="1">
      </div>
    </div>

    <button onclick="computeComposition()">Compute Composition</button>

    <script>

      const selection1 = document.getElementById('graph-type-1').value;
      const selection2 = document.getElementById('graph-type-2').value;
      const g1 = document.getElementById('graph-type-1').value;
      const g2 = document.getElementById('graph-type-2').value;
      const M_1 = document.getElementById('input-m-1');
      const L_1 = document.getElementById('input-l-1');
      const P_1 = document.getElementById('input-p-1');
      const Q_1 = document.getElementById('input-q-1');
      const Q1_1 = document.getElementById('input-q1-1');
      const Q2_1 = document.getElementById('input-q2-1');
      const M_2 = document.getElementById('input-m-2');
      const P_2 = document.getElementById('input-p-2');
      const Q_2 = document.getElementById('input-q-2');
      const Q1_2 = document.getElementById('input-q1-2');
      const Q2_2 = document.getElementById('input-q2-2');
      M_1.classList.add('hidden');
      L_1.classList.add('hidden');
      P_1.classList.add('hidden');
      Q_1.classList.add('hidden');
      Q1_1.classList.add('hidden');
      Q2_2.classList.add('hidden');
      M_2.classList.add('hidden');
      P_2.classList.add('hidden');
      Q_2.classList.add('hidden');
      Q1_2.classList.add('hidden');
      Q2_2.classList.add('hidden');

      function showInputsOne() {

        if (selection1 === 'mK2') {
          M_1.classList.remove('hidden');
        } else if (selection1 === 'U2ml') {
          M_1.classList.remove('hidden');
          L_1.classList.remove('hidden');
        } else if (selection1 === 'U3m') {
          M_1.classList.remove('hidden');
        } else if (selection1 === 'Spq') {
          P_1.classList.remove('hidden');
          Q_1.classList.remove('hidden');
        } else if (selection1 === 'S2') {
          M_1.classList.remove('hidden');
          P_1.classList.remove('hidden');
          Q_1.classList.remove('hidden');
        } else if (selection1 === 'S3') {
          M_1.classList.remove('hidden');
          P_1.classList.remove('hidden');
          Q1_1.classList.remove('hidden');
          Q2_1.classList.remove('hidden');
        }
      }

      function showInputsTwo() {

        if (selection === 'Spq') {
          P_2.classList.remove('hidden');
          Q_2.classList.remove('hidden');
        } else if (selection === 'S2') {
          M_2.classList.remove('hidden');
          P_2.classList.remove('hidden');
          Q_2.classList.remove('hidden');
        } else if (selection === 'S3') {
          M_2.classList.remove('hidden');
          P_2.classList.remove('hidden');
          Q1_2.classList.remove('hidden');
          Q2_2.classList.remove('hidden');
        }
      }

      function computeComposition() {

        alert(`Composing: ${g1} and ${g2}`);

        const g = getDegreeSequence(g1);
        const h = getDegreeSequence(g2);

        console.log(g);
        console.log(h);      
      }

      function getDegreeSequence(type, graph_num) {
        if (graph_num == 1) {
          const M = M_1;
          const L = L_1;
          const P = P_1;
          const Q = Q_1;
          const Q1 = Q1_1;
          const Q2 = Q2_1;
        } else {
          const M = M_2;
          const L = L_2;
          const P = P_2;
          const Q = Q_2;
          const Q1 = Q1_2;
          const Q2 = Q2_2;
        }
        
        switch (type) {

          case "C5": {
            return {2: 5}
          }
    
          case "mK2": {
            return {1: 2 * M}
          }
    
          case "U2ml": {
            return {
              [L]: 1,
              1: (2 * M) + L
            }
          }
    
          case "U3m": {
            return {
              [(2 * M) + 2]: 1,
              2: (2 * M) + 3
            }
          }
    
          default:
            alert("Unknown graph type: " + type);
        }
      }
    </script>
  </body>
</html>
